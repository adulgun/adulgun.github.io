(function(t){function e(e){for(var s,n,o=e[0],l=e[1],u=e[2],c=0,d=[];c<o.length;c++)n=o[c],Object.prototype.hasOwnProperty.call(r,n)&&r[n]&&d.push(r[n][0]),r[n]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(t[s]=l[s]);f&&f(e);while(d.length)d.shift()();return i.push.apply(i,u||[]),a()}function a(){for(var t,e=0;e<i.length;e++){for(var a=i[e],s=!0,n=1;n<a.length;n++){var o=a[n];0!==r[o]&&(s=!1)}s&&(i.splice(e--,1),t=l(l.s=a[0]))}return t}var s={},n={app:0},r={app:0},i=[];function o(t){return l.p+"js/"+({}[t]||t)+"."+{"chunk-33d311b2":"cfb3db01"}[t]+".js"}function l(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,l),a.l=!0,a.exports}l.e=function(t){var e=[],a={"chunk-33d311b2":1};n[t]?e.push(n[t]):0!==n[t]&&a[t]&&e.push(n[t]=new Promise((function(e,a){for(var s="css/"+({}[t]||t)+"."+{"chunk-33d311b2":"6fbf1cb8"}[t]+".css",r=l.p+s,i=document.getElementsByTagName("link"),o=0;o<i.length;o++){var u=i[o],c=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(c===s||c===r))return e()}var d=document.getElementsByTagName("style");for(o=0;o<d.length;o++){u=d[o],c=u.getAttribute("data-href");if(c===s||c===r)return e()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=e,f.onerror=function(e){var s=e&&e.target&&e.target.src||r,i=new Error("Loading CSS chunk "+t+" failed.\n("+s+")");i.code="CSS_CHUNK_LOAD_FAILED",i.request=s,delete n[t],f.parentNode.removeChild(f),a(i)},f.href=r;var m=document.getElementsByTagName("head")[0];m.appendChild(f)})).then((function(){n[t]=0})));var s=r[t];if(0!==s)if(s)e.push(s[2]);else{var i=new Promise((function(e,a){s=r[t]=[e,a]}));e.push(s[2]=i);var u,c=document.createElement("script");c.charset="utf-8",c.timeout=120,l.nc&&c.setAttribute("nonce",l.nc),c.src=o(t);var d=new Error;u=function(e){c.onerror=c.onload=null,clearTimeout(f);var a=r[t];if(0!==a){if(a){var s=e&&("load"===e.type?"missing":e.type),n=e&&e.target&&e.target.src;d.message="Loading chunk "+t+" failed.\n("+s+": "+n+")",d.name="ChunkLoadError",d.type=s,d.request=n,a[1](d)}r[t]=void 0}};var f=setTimeout((function(){u({type:"timeout",target:c})}),12e4);c.onerror=c.onload=u,document.head.appendChild(c)}return Promise.all(e)},l.m=t,l.c=s,l.d=function(t,e,a){l.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},l.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},l.t=function(t,e){if(1&e&&(t=l(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(l.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)l.d(a,s,function(e){return t[e]}.bind(null,s));return a},l.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return l.d(e,"a",e),e},l.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},l.p="/",l.oe=function(t){throw console.error(t),t};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],c=u.push.bind(u);u.push=e,u=u.slice();for(var d=0;d<u.length;d++)e(u[d]);var f=c;i.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"3dfd":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("b-navbar",{attrs:{toggleable:"lg",type:"dark",variant:"dark"}},[a("b-navbar-brand",{attrs:{href:"#/"}},[t._v(t._s(t.title0))]),a("b-navbar-toggle",{attrs:{target:"nav_collapse"}}),a("b-collapse",{attrs:{"is-nav":"",id:"nav_collapse"}},[a("b-navbar-nav",[a("b-nav-item",{attrs:{href:"#/"}},[a("font",{staticStyle:{"padding-top":"1px"},attrs:{color:"white",size:"4"}},[t._v(t._s(t.title))])],1)],1),a("b-navbar-nav",{staticClass:"ml-auto"})],1)],1),a("b-container",{attrs:{fluid:""}},[a("b-alert",{attrs:{show:t.dismissCountDown,dismissible:"",variant:t.msgtype},on:{dismissed:function(e){t.dismissCountDown=0},"dismiss-count-down":t.countDownChanged}},[t._v(t._s(t.msgAlert))]),a("router-view")],1)],1)},n=[],r={name:"App",data:function(){return{msgtype:"danger",msgAlert:"",dismissSecs:2,dismissCountDown:0,title0:"Board Game Everyday Cafe",title:""}},mounted:function(){var t=this;this.$store.watch(this.$store.getters.getLG,(function(e){"TH"==e?(t.title0="Board Game Everyday Cafe",t.title=""):"ENG"==e&&(t.title0="Board Game Everyday Cafe",t.title="")}))},methods:{countDownChanged:function(t){this.dismissCountDown=t},showAlert:function(t,e){this.msgtype=null==e?"danger":e,this.msgAlert=t,this.dismissCountDown=this.dismissSecs,window.scrollTo(0,0)},setTH:function(){this.$store.state.language="TH"},setENG:function(){this.$store.state.language="ENG"}}},i=r,o=a("2877"),l=Object(o["a"])(i,s,n,!1,null,null,null);e["default"]=l.exports},"56d7":function(t,e,a){"use strict";a.r(e);a("744f"),a("6c7b"),a("7514"),a("20d6"),a("1c4c"),a("6762"),a("cadf"),a("e804"),a("55dd"),a("d04f"),a("c8ce"),a("217b"),a("7f7f"),a("f400"),a("7f25"),a("536b"),a("d9ab"),a("f9ab"),a("32d7"),a("25c9"),a("9f3c"),a("042e"),a("c7c6"),a("f4ff"),a("049f"),a("7872"),a("a69f"),a("0b21"),a("6c1a"),a("c7c62"),a("84b4"),a("c5f6"),a("2e37"),a("fca0"),a("7cdf"),a("ee1d"),a("b1b1"),a("87f3"),a("9278"),a("5df2"),a("04ff"),a("f751"),a("4504"),a("fee7"),a("ffc1"),a("0d6d"),a("9986"),a("8e6e"),a("25db"),a("e4f7"),a("b9a1"),a("64d5"),a("9aea"),a("db97"),a("66c8"),a("57f0"),a("165b"),a("456d"),a("cf6a"),a("fd24"),a("8615"),a("551c"),a("097d"),a("df1b"),a("2397"),a("88ca"),a("ba16"),a("d185"),a("ebde"),a("2d34"),a("f6b3"),a("2251"),a("c698"),a("a19f"),a("9253"),a("9275"),a("3b2b"),a("3846"),a("4917"),a("a481"),a("28a5"),a("386d"),a("6b54"),a("4f7f"),a("8a81"),a("ac4d"),a("8449"),a("9c86"),a("fa83"),a("48c0"),a("a032"),a("aef6"),a("d263"),a("6c37"),a("9ec8"),a("5695"),a("2fdb"),a("d0b0"),a("5df3"),a("b54a"),a("f576"),a("ed50"),a("788d"),a("14b9"),a("f386"),a("f559"),a("1448"),a("673e"),a("242a"),a("c66f"),a("b05c"),a("34ef"),a("6aa2"),a("15ac"),a("af56"),a("b6e4"),a("9c29"),a("63d9"),a("4dda"),a("10ad"),a("c02b"),a("4795"),a("130f"),a("ac6a"),a("96cf"),a("0cdd");var s=a("2b0e"),n=a("5f5b");a("ab8b"),a("2dd8");s["default"].use(n["a"]);var r=a("bc3a"),i=a.n(r),o={},l=i.a.create(o);l.interceptors.request.use((function(t){return t}),(function(t){return Promise.reject(t)})),l.interceptors.response.use((function(t){return t}),(function(t){return Promise.reject(t)})),Plugin.install=function(t,e){t.axios=l,window.axios=l,Object.defineProperties(t.prototype,{axios:{get:function(){return l}},$axios:{get:function(){return l}}})},s["default"].use(Plugin);Plugin;var u=a("3dfd"),c=a("8c4f"),d=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home"},[a("b-row",[t._e()],1),a("b-row",[a("b-col",{staticClass:"text-nowrap",attrs:{cols:"2"}},[t._v(t._s(t.str_namefarm))]),a("b-col",[a("b-form-input",{attrs:{placeholder:"กรอกชื่อแปลง"},model:{value:t.name_farm,callback:function(e){t.name_farm=e},expression:"name_farm"}})],1)],1),a("b-row",[a("b-col",{staticClass:"text-nowrap",attrs:{cols:"2"}},[t._v(t._s(t.str_variety))]),a("b-col",[a("b-form-input",{attrs:{placeholder:"กรอกชนิดต้นอ้อย"},model:{value:t.variety,callback:function(e){t.variety=e},expression:"variety"}})],1)],1),a("b-row",t._l(t.items,(function(e,s){return a("b-col",{staticClass:"text-nowrap"},[a("label",{staticClass:"custom-file-upload btn btn-primary",staticStyle:{border:"1px solid black"}},[a("input",{ref:"items",refInFor:!0,attrs:{disabled:t.uploading,type:"file",accept:"image/*"},on:{change:function(e){return t.handleFileUpload(s)}}}),t._v("\n        "+t._s(e.str_upload)+"\n      ")]),t._v("\n      "+t._s(e.e)+"\n    ")])})),1),a("b-row",[a("b-col",{staticClass:"text-center"},[a("b-button",{attrs:{variant:"outline-primary",disabled:t.disUpload},on:{click:t.clickUpload}},[t._v(t._s(t.str_upload))])],1)],1),a("br"),a("b-row",[a("b-col",{staticClass:"text-center"},[a("b",[t._v(t._s(t.str_sampledata))])])],1),a("b-row",[a("b-col",{staticClass:"text-center"},[a("b-button",{attrs:{disabled:t.uploading,variant:"warning"},on:{click:t.test1}},[t._v(t._s(t.str_sample1))]),t._v(" \n      "),a("b-button",{attrs:{disabled:t.uploading,variant:"warning"},on:{click:t.test2}},[t._v(t._s(t.str_sample2))])],1)],1),a("br"),a("b-row",[a("b-col",{staticClass:"text-center"},[a("b-progress",{attrs:{value:t.uploadPercentage,max:100,height:"3px",animated:t.animate}})],1)],1),a("b-row",[a("b-col",{staticClass:"text-center"},[a("div",{staticClass:"ex2",staticStyle:{"white-space":"pre"},attrs:{id:"status",align:"left"},domProps:{innerHTML:t._s(t.str_result)}}),a("br")])],1),a("b-row",{directives:[{name:"show",rawName:"v-show",value:t.width<1008,expression:"width <1008"}]},[a("b-table",{attrs:{striped:"",hover:"",items:t.result,stacked:""},scopedSlots:t._u([{key:"cell(farm)",fn:function(e){return[a("b-button",{on:{click:function(a){return t.next(e.item.farm)}}},[t._v("คำนวณ")])]}},{key:"cell(rgb)",fn:function(e){return[a("b-button",{on:{click:function(a){return t.next(e.item.rgb)}}},[t._v("RGB")])]}},{key:"cell(name)",fn:function(e){return[a("b-form-input",{model:{value:e.item.name,callback:function(a){t.$set(e.item,"name",a)},expression:"data.item.name"}})]}},{key:"cell(variety)",fn:function(e){return[a("b-form-input",{model:{value:e.item.variety,callback:function(a){t.$set(e.item,"variety",a)},expression:"data.item.variety"}})]}},{key:"cell(delete)",fn:function(e){return[a("b-button",{attrs:{variant:"danger"},on:{click:function(a){return t.clickDeleteFarm(e.item.delete)}}},[t._v("Delete")])]}}])})],1),a("b-row",{directives:[{name:"show",rawName:"v-show",value:t.width>=1008,expression:"width >=1008"}]},[a("b-table",{attrs:{striped:"",hover:"",items:t.result},scopedSlots:t._u([{key:"cell(farm)",fn:function(e){return[a("b-button",{on:{click:function(a){return t.next(e.item.farm)}}},[t._v("คำนวณ")])]}},{key:"cell(rgb)",fn:function(e){return[a("b-button",{on:{click:function(a){return t.next(e.item.rgb)}}},[t._v("RGB")])]}},{key:"cell(name)",fn:function(e){return[a("b-form-input",{model:{value:e.item.name,callback:function(a){t.$set(e.item,"name",a)},expression:"data.item.name"}})]}},{key:"cell(variety)",fn:function(e){return[a("b-form-input",{model:{value:e.item.variety,callback:function(a){t.$set(e.item,"variety",a)},expression:"data.item.variety"}})]}},{key:"cell(delete)",fn:function(e){return[a("b-button",{attrs:{variant:"danger"},on:{click:function(a){return t.clickDeleteFarm(e.item.delete)}}},[t._v("Delete")])]}}])})],1),a("b-row",[a("b-col",{staticClass:"text-center"},[a("b-button",{attrs:{variant:"outline-primary"},on:{click:t.clickDelete}},[t._v("Delete all farm")])],1)],1)],1)},f=[],m={name:"home",data:function(){return{width:0,name_farm:"แปลงเกษตรไทย",variety:"UT84-12",id_farm:"",id_farm_new:"",id_farm_old:[],items:[{e:"",message:"r",str_upload:"",file:""},{e:"",message:"g",str_upload:"",file:""},{e:"",message:"b",str_upload:"",file:""},{e:"",message:"nir",str_upload:"",file:""},{e:"",message:"re",str_upload:"",file:""},{e:"",message:"dsm",str_upload:"",file:""},{e:"",message:"dtm",str_upload:"",file:""},{e:"",message:"r4",str_upload:"",file:""},{e:"",message:"g4",str_upload:"",file:""},{e:"",message:"b4",str_upload:"",file:""}],str_namefarm:"",str_variety:"",str_upload:"",str_sampledata:"",str_sample1:"",str_sample2:"",str_result:"",result:[],note:"",uploadPercentage:0,animate:!0,disUpload:!0,uploading:!1}},mounted:function(){var t=this;this.setlanguage(),this.$store.watch(this.$store.getters.getLG,(function(e){t.setlanguage()})),this.clickGet()},watch:{items:{handler:function(t){this.checkfile()},deep:!0}},created:function(){var t=this;window.addEventListener("resize",this.handleResize),this.handleResize(),this.interval=setInterval((function(){return t.getstatus()}),1e3)},methods:{getstatus:function(){var t=this;this.animate&&axios.get(this.$store.state.api+"farms").then((function(e){for(var a=e.data.data,s=0;s<a.length;s++){for(var n=a[s]._id,r=!1,i=0;i<t.id_farm_old.length;i++)if(t.id_farm_old[i]==n){r=!0;break}r||(t.str_result=e.data.data[s].status)}})).catch((function(t){}))},next:function(t){window.location.href=t},handleResize:function(){this.width=window.innerWidth},checkfile:function(){for(var t=!0,e=0;e<5;e++)t=t&&!(""==this.items[e].file);this.disUpload=!t},setlanguage:function(){var t=this.$store.state.language;"TH"==t?(this.str_namefarm="ชื่อแปลง",this.str_variety="ชนิดแปลง",this.items[0].str_upload="Red",this.items[1].str_upload="Green",this.items[2].str_upload="Blue",this.items[3].str_upload="NIR",this.items[4].str_upload="Red Edge",this.items[5].str_upload="DSM",this.items[6].str_upload="DTM",this.items[7].str_upload="Red4M",this.items[8].str_upload="Green4M",this.items[9].str_upload="Blue4M",this.str_upload="อัพโหลดรูปภาพ",this.str_sampledata="ตัวอย่างข้อมูล",this.str_sample1="KK3",this.str_sample2="UT82",this.note="หมายเหตุ: "):"ENG"==t&&(this.str_namefarm="Name farm",this.str_variety="Variety",this.items[0].str_upload="Red",this.items[1].str_upload="Green",this.items[2].str_upload="Blue",this.items[3].str_upload="NIR",this.items[4].str_upload="Red Edge",this.items[5].str_upload="DSM",this.items[6].str_upload="DTM",this.items[7].str_upload="Red4M",this.items[8].str_upload="Green4M",this.items[9].str_upload="Blue4M",this.str_upload="Upload image",this.str_sampledata="Sample data",this.str_sample1="KK3",this.str_sample2="UT82",this.note="Note: ")},handleFileUpload:function(t){this.items[t].e=this.$refs.items[t].files[0].name,this.items[t].file=this.$refs.items[t].files[0]},setUploading:function(){var t="",e=this.$store.state.language;"TH"==e?t="กำลังอัปโหลดรูปภาพ...":"ENG"==e&&(t="Uploading..."),this.str_result=t,this.animate=!0},clickUpload:function(){var t=this;this.setUploading();var e=new FormData;e.append("name",this.name_farm),e.append("variety",this.variety);for(var a=0;a<this.items.length;a++)e.append(this.items[a].message,this.items[a].file);axios.post(this.$store.state.api+"farms",e,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:function(t){this.showProgress(t)}.bind(this)}).then((function(e){t.showResult(e.data.msg),t.pushResult(e.data.data),t.toBottom()})).catch((function(t){}))},showProgress:function(t){this.uploadPercentage=80*t.loaded/t.total},test1:function(){var t=this;this.setUploading(),this.uploadPercentage=80,axios.post(this.$store.state.api+"test").then((function(e){t.showResult(e.data.msg),t.pushResult(e.data.data),t.toBottom()})).catch((function(t){}))},test2:function(){this.$router.push("farm/1569306884042")},clickGet:function(){var t=this;axios.get(this.$store.state.api+"farms").then((function(e){t.showResult(e.data.msg),t.pushResult(e.data.data)})).catch((function(t){}))},clickDelete:function(){var t=this;axios.delete(this.$store.state.api+"farms").then((function(e){t.showResult(e.data.msg),t.pushResult(e.data.data)})).catch((function(t){}))},clickDeleteFarm:function(t){var e=this;axios.delete(this.$store.state.api+"farms/"+t).then((function(t){e.showResult(t.data.msg),e.pushResult(t.data.data)})).catch((function(t){}))},pushResult:function(t){this.result=[],this.id_farm_old=[];for(var e=0;e<t.length;e++)this.id_farm_old.push(t[e]._id),this.result.push({_id:t[e]._id,name:t[e].name,variety:t[e].variety,farm:t[e].farm,rgb:t[e].rgb,status:t[e].status,delete:t[e]._id})},showResult:function(t){this.uploading=!1,this.uploadPercentage=100,this.animate=!1,this.str_result=t,this.uploadPercentage=0},toBottom:function(){setTimeout((function(){var t=document.scrollingElement||document.body;t.scrollTop=t.scrollHeight}),10)}}},h=m,p=(a("cccb"),a("2877")),b=Object(p["a"])(h,d,f,!1,null,null,null),v=b.exports;s["default"].use(c["a"]);var g=new c["a"]({routes:[{path:"/",name:"home",component:v},{path:"/test",name:"test",component:function(){return Promise.resolve().then(a.bind(null,"3dfd"))}},{path:"/about",name:"about",component:function(){return a.e("chunk-33d311b2").then(a.bind(null,"f820"))}}]}),_=a("2f62");s["default"].use(_["a"]);var w=new _["a"].Store({state:{api:"http://localhost:4000/api/v1/",agree:!1,language:"TH"},getters:{getLG:function(t){return function(){return t.language}}},mutations:{},actions:{}});s["default"].config.productionTip=!1,new s["default"]({router:g,store:w,render:function(t){return t(u["default"])}}).$mount("#app")},cccb:function(t,e,a){"use strict";var s=a("d563"),n=a.n(s);n.a},d563:function(t,e,a){}});
//# sourceMappingURL=app.0b96662d.js.map